import{s as Ge,i as Ae,n as se,r as Ne,c as De,j as Pe,k as ne}from"../chunks/scheduler.49f88041.js";import{S as ze,i as Le,g as C,s as z,e as oe,B as Oe,h as T,f as b,c as L,y as Q,j as G,k as y,C as H,A as v,a as A,D as ee,m as N,n as D,l as x,o as te,E as Se,F as Ce}from"../chunks/index.491dc603.js";import{e as I,u as Te,d as We}from"../chunks/each.5114206e.js";import{a as Xe}from"../chunks/AgoraRTC_N-production.61be5ee4.js";import{p as Fe}from"../chunks/parse.bee59afc.js";import{j as Ie,k as je,r as qe}from"../chunks/singletons.ecd5e7f7.js";const Be=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Ve=(a,e={})=>{de(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:r=3500,force:o=.5,particleCount:l=150,particleShape:n="mix",particleSize:s=12,destroyAfterDone:c=!0,stageHeight:p=800,stageWidth:m=1600}=e;(function(i){const d=Y("style");d.dataset.neoconfetti="",d.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,d)})(),a.classList.add("fk9XWG_container"),a.style.setProperty("--stage-height",p+"px");let g,_=ue(l,t),u=le(a,_);function f(i,d){const S=V(O()*(Ke-1)),E=n!=="rectangles"&&(n==="circles"||Qe(S)),w=(F,P)=>i.style.setProperty(F,P+"");w("--x-landing-point",J(U(fe(d,90)-180),0,180,-m/2,m/2)+"px"),w("--duration-chaos",r-V(1e3*O())+"ms");const X=O()<Re?j(O()*xe,2):0;w("--x1",X),w("--x2",-1*X),w("--x3",X),w("--x4",j(U(J(U(fe(d,90)-180),0,180,-1,1)),4)),w("--y1",j(O()*ce,4)),w("--y2",j(O()*o*(Me()?1:-1),4)),w("--y3",ce),w("--y4",j(Je(J(U(d-180),0,180,o,-o),0),4)),w("--width",(E?s:V(4*O())+s/2)+"px"),w("--height",(E?s:V(2*O())+s)+"px");const B=S.toString(2).padStart(3,"0").split("");w("--half-rotation",B.map(F=>+F/2+"")),w("--rotation",B),w("--rotation-duration",j(O()*(Ue-ie)+ie)+"ms"),w("--border-radius",E?"50%":0)}for(const[i,d]of Object.entries(u))f(d,_[+i].degree);return Promise.resolve().then(()=>g=setTimeout(()=>c&&(a.innerHTML=""),r)),{update(i){de(i);const d=i.particleCount??l,S=i.colors??t,E=i.stageHeight??p;if(_=ue(d,S),d===l&&JSON.stringify(t)!==JSON.stringify(S))for(const[w,{color:X}]of Object.entries(_))u[+w].style.setProperty("--bgcolor",X);d!==l&&(a.innerHTML="",u=le(a,_)),c&&!i.destroyAfterDone&&clearTimeout(g),a.style.setProperty("--stage-height",E+"px"),t=S,r=i.duration??r,o=i.force??o,l=d,n=i.particleShape??n,s=i.particleSize??s,c=i.destroyAfterDone??c,p=E,m=i.stageWidth??m},destroy(){clearTimeout(g)}}};function le(a,e=[]){const t=[];for(const{color:r}of e){const o=Y("div");o.className="fk9XWG_particle",o.style.setProperty("--bgcolor",r);const l=Y("div");Z(o,l),Z(a,o),t.push(o)}return t}const ie=200,Ue=800,Re=.1,xe=.3,ce=.5,U=Math.abs,O=Math.random,V=Math.round,Je=Math.max,Y=a=>document.createElement(a),Z=(a,e)=>a.appendChild(e),ue=(a,e)=>Array.from({length:a},(t,r)=>({color:e[r%e.length],degree:360*r/a})),j=(a,e=2)=>V((a+Number.EPSILON)*10**e)/10**e,J=(a,e,t,r,o)=>(a-e)*(o-r)/(t-e)+r,fe=(a,e)=>a+e>360?a+e-360:a+e,Me=()=>O()>.5,Ke=6,Qe=a=>a!==1&&Me(),$=a=>a===void 0,q=(a,e)=>{if(!$(a)&&Number.isSafeInteger(a)&&a<0)throw new Error(e+" must be a positive integer")},de=({particleCount:a,duration:e,colors:t,particleSize:r,force:o,stageHeight:l,stageWidth:n,particleShape:s})=>{if(q(a,"particleCount"),q(e,"duration"),q(r,"particleSize"),q(o,"force"),q(l,"stageHeight"),q(n,"stageWidth"),!$(s)&&!/^(mix|circles|rectangles)$/i.test(s))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!$(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(o>1)throw new Error("force must be within 0 and 1")},Ye=Ie("invalidate_all");function Ze(a){return je.apply_action(a)}function $e(a){const e=JSON.parse(a);return e.data&&(e.data=Fe(e.data)),e}function he(a){return HTMLElement.prototype.cloneNode.call(a)}function et(a,e=()=>{}){const t=async({action:o,result:l,reset:n})=>{l.type==="success"&&(n!==!1&&HTMLFormElement.prototype.reset.call(a),await Ye()),(location.origin+location.pathname===o.origin+o.pathname||l.type==="redirect"||l.type==="error")&&Ze(l)};async function r(o){var f,i,d,S;if(((f=o.submitter)!=null&&f.hasAttribute("formmethod")?o.submitter.formMethod:he(a).method)!=="post")return;o.preventDefault();const n=new URL((i=o.submitter)!=null&&i.hasAttribute("formaction")?o.submitter.formAction:he(a).action),s=new FormData(a),c=(d=o.submitter)==null?void 0:d.getAttribute("name");c&&s.append(c,((S=o.submitter)==null?void 0:S.getAttribute("value"))??"");const p=new AbortController;let m=!1;const _=await e({action:n,cancel:()=>m=!0,controller:p,get data(){return s},formData:s,get form(){return a},formElement:a,submitter:o.submitter})??t;if(m)return;let u;try{const E=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:s,signal:p.signal});u=$e(await E.text()),u.type==="error"&&(u.status=E.status)}catch(E){if((E==null?void 0:E.name)==="AbortError")return;u={type:"error",error:E}}_({action:n,get data(){return s},formData:s,get form(){return a},formElement:a,update:E=>t({action:n,result:u,reset:E==null?void 0:E.reset}),result:u})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",r)}}}const He="(prefers-reduced-motion: reduce)",tt=()=>window.matchMedia(He).matches,at=qe(tt(),a=>{{const e=r=>{a(r.matches)},t=window.matchMedia(He);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});const{document:K,window:rt}=Be;function _e(a,e,t){const r=a.slice();return r[9]=e[t],r}function me(a,e,t){const r=a.slice();return r[12]=e[t],r}function pe(a,e,t){const r=a.slice();r[9]=e[t];const o=r[9]===r[3];return r[15]=o,r}function be(a,e,t){var m,g;const r=a.slice();r[18]=e[t];const o=(m=r[0].answers[r[9]])==null?void 0:m[r[18]];r[19]=o;const l=((g=r[0].guesses[r[9]])==null?void 0:g[r[18]])??"";r[20]=l;const n=r[15]&&r[18]===r[0].guesses[r[9]].length;r[21]=n;const s=r[19]==="x";r[22]=s;const c=r[19]==="c";r[23]=c;const p=r[19]==="_";return r[24]=p,r}function st(a){let e;return{c(){e=N("empty")},l(t){e=D(t,"empty")},m(t,r){A(t,e,r)},d(t){t&&b(e)}}}function nt(a){let e;return{c(){e=N("(absent)")},l(t){e=D(t,"(absent)")},m(t,r){A(t,e,r)},d(t){t&&b(e)}}}function ot(a){let e;return{c(){e=N("(present)")},l(t){e=D(t,"(present)")},m(t,r){A(t,e,r)},d(t){t&&b(e)}}}function lt(a){let e;return{c(){e=N("(correct)")},l(t){e=D(t,"(correct)")},m(t,r){A(t,e,r)},d(t){t&&b(e)}}}function ge(a,e){let t,r=e[20]+"",o,l,n,s,c,p,m;function g(f,i){return f[22]?lt:f[23]?ot:f[24]?nt:st}let _=g(e),u=_(e);return{key:a,first:null,c(){t=C("div"),o=N(r),l=z(),n=C("span"),u.c(),s=z(),c=C("input"),this.h()},l(f){t=T(f,"DIV",{class:!0});var i=G(t);o=D(i,r),l=L(i),n=T(i,"SPAN",{class:!0});var d=G(n);u.l(d),d.forEach(b),s=L(i),c=T(i,"INPUT",{name:!0,type:!0}),i.forEach(b),this.h()},h(){y(n,"class","visually-hidden"),y(c,"name","guess"),c.disabled=p=!e[15],y(c,"type","hidden"),c.value=m=e[20],y(t,"class","letter svelte-h4u1ii"),H(t,"exact",e[22]),H(t,"close",e[23]),H(t,"missing",e[24]),H(t,"selected",e[21]),this.first=t},m(f,i){A(f,t,i),v(t,o),v(t,l),v(t,n),u.m(n,null),v(t,s),v(t,c)},p(f,i){e=f,i&1&&r!==(r=e[20]+"")&&te(o,r),_!==(_=g(e))&&(u.d(1),u=_(e),u&&(u.c(),u.m(n,null))),i&8&&p!==(p=!e[15])&&(c.disabled=p),i&1&&m!==(m=e[20])&&(c.value=m),i&1&&H(t,"exact",e[22]),i&1&&H(t,"close",e[23]),i&1&&H(t,"missing",e[24]),i&9&&H(t,"selected",e[21])},d(f){f&&b(t),u.d()}}}function ye(a,e){let t,r,o=e[9]+1+"",l,n,s,c=[],p=new Map,m,g=I(Array.from(Array(5).keys()));const _=u=>u[18];for(let u=0;u<g.length;u+=1){let f=be(e,g,u),i=_(f);p.set(i,c[u]=ge(i,f))}return{key:a,first:null,c(){t=C("h2"),r=N("Row "),l=N(o),n=z(),s=C("div");for(let u=0;u<c.length;u+=1)c[u].c();m=z(),this.h()},l(u){t=T(u,"H2",{class:!0});var f=G(t);r=D(f,"Row "),l=D(f,o),f.forEach(b),n=L(u),s=T(u,"DIV",{class:!0});var i=G(s);for(let d=0;d<c.length;d+=1)c[d].l(i);m=L(i),i.forEach(b),this.h()},h(){y(t,"class","visually-hidden"),y(s,"class","row svelte-h4u1ii"),H(s,"current",e[15]),this.first=t},m(u,f){A(u,t,f),v(t,r),v(t,l),A(u,n,f),A(u,s,f);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(s,null);v(s,m)},p(u,f){e=u,f&9&&(g=I(Array.from(Array(5).keys())),c=Te(c,f,_,1,e,g,p,s,We,ge,m,be)),f&8&&H(s,"current",e[15])},d(u){u&&(b(t),b(n),b(s));for(let f=0;f<c.length;f+=1)c[f].d()}}}function it(a){let e,t,r,o,l,n,s="back",c,p,m,g=I(["qwertyuiop","asdfghjkl","zxcvbnm"]),_=[];for(let u=0;u<3;u+=1)_[u]=ke(_e(a,g,u));return{c(){e=C("div"),t=C("button"),r=N("enter"),l=z(),n=C("button"),n.textContent=s,c=z();for(let u=0;u<3;u+=1)_[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var f=G(e);t=T(f,"BUTTON",{"data-key":!0,class:!0});var i=G(t);r=D(i,"enter"),i.forEach(b),l=L(f),n=T(f,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-13xkypz"&&(n.textContent=s),c=L(f);for(let d=0;d<3;d+=1)_[d].l(f);f.forEach(b),this.h()},h(){y(t,"data-key","enter"),t.disabled=o=!a[6],y(t,"class","svelte-h4u1ii"),H(t,"selected",a[6]),y(n,"data-key","backspace"),y(n,"formaction","?/update"),y(n,"name","key"),n.value="backspace",y(n,"class","svelte-h4u1ii"),y(e,"class","keyboard svelte-h4u1ii")},m(u,f){A(u,e,f),v(e,t),v(t,r),v(e,l),v(e,n),v(e,c);for(let i=0;i<3;i+=1)_[i]&&_[i].m(e,null);p||(m=ee(n,"click",Se(a[8])),p=!0)},p(u,f){if(f&64&&o!==(o=!u[6])&&(t.disabled=o),f&64&&H(t,"selected",u[6]),f&301){g=I(["qwertyuiop","asdfghjkl","zxcvbnm"]);let i;for(i=0;i<3;i+=1){const d=_e(u,g,i);_[i]?_[i].p(d,f):(_[i]=ke(d),_[i].c(),_[i].m(e,null))}for(;i<3;i+=1)_[i].d(1)}},d(u){u&&b(e),Ce(_,u),p=!1,m()}}}function ct(a){let e,t,r=a[4]?"you won :)":"game over :(",o,l,n=!a[4]&&a[0].answer&&we(a);return{c(){n&&n.c(),e=z(),t=C("button"),o=N(r),l=N(" play again?"),this.h()},l(s){n&&n.l(s),e=L(s),t=T(s,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var c=G(t);o=D(c,r),l=D(c," play again?"),c.forEach(b),this.h()},h(){y(t,"data-key","enter"),y(t,"class","restart selected svelte-h4u1ii"),y(t,"formaction","?/restart")},m(s,c){n&&n.m(s,c),A(s,e,c),A(s,t,c),v(t,o),v(t,l)},p(s,c){!s[4]&&s[0].answer?n?n.p(s,c):(n=we(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),c&16&&r!==(r=s[4]?"you won :)":"game over :(")&&te(o,r)},d(s){s&&(b(e),b(t)),n&&n.d(s)}}}function ve(a){let e,t,r,o,l,n,s;return{c(){e=C("button"),t=N(a[12]),this.h()},l(c){e=T(c,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var p=G(e);t=D(p,a[12]),p.forEach(b),this.h()},h(){y(e,"data-key",a[12]),y(e,"class",r=ne(a[2][a[12]])+" svelte-h4u1ii"),e.disabled=o=a[0].guesses[a[3]].length===5,y(e,"formaction","?/update"),y(e,"name","key"),e.value=a[12],y(e,"aria-label",l=a[12]+" "+(a[5][a[12]]||""))},m(c,p){A(c,e,p),v(e,t),n||(s=ee(e,"click",Se(a[8])),n=!0)},p(c,p){p&4&&r!==(r=ne(c[2][c[12]])+" svelte-h4u1ii")&&y(e,"class",r),p&9&&o!==(o=c[0].guesses[c[3]].length===5)&&(e.disabled=o),p&32&&l!==(l=c[12]+" "+(c[5][c[12]]||""))&&y(e,"aria-label",l)},d(c){c&&b(e),n=!1,s()}}}function ke(a){let e,t,r=I(a[9]),o=[];for(let l=0;l<r.length;l+=1)o[l]=ve(me(a,r,l));return{c(){e=C("div");for(let l=0;l<o.length;l+=1)o[l].c();t=z(),this.h()},l(l){e=T(l,"DIV",{class:!0});var n=G(e);for(let s=0;s<o.length;s+=1)o[s].l(n);t=L(n),n.forEach(b),this.h()},h(){y(e,"class","row svelte-h4u1ii")},m(l,n){A(l,e,n);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(e,null);v(e,t)},p(l,n){if(n&301){r=I(l[9]);let s;for(s=0;s<r.length;s+=1){const c=me(l,r,s);o[s]?o[s].p(c,n):(o[s]=ve(c),o[s].c(),o[s].m(e,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(l){l&&b(e),Ce(o,l)}}}function we(a){let e,t,r=a[0].answer+"",o,l;return{c(){e=C("p"),t=N('the answer was "'),o=N(r),l=N('"')},l(n){e=T(n,"P",{});var s=G(e);t=D(s,'the answer was "'),o=D(s,r),l=D(s,'"'),s.forEach(b)},m(n,s){A(n,e,s),v(e,t),v(e,o),v(e,l)},p(n,s){s&1&&r!==(r=n[0].answer+"")&&te(o,r)},d(n){n&&b(e)}}}function Ee(a){let e,t,r,o;return{c(){e=C("div"),this.h()},l(l){e=T(l,"DIV",{style:!0}),G(e).forEach(b),this.h()},h(){x(e,"position","absolute"),x(e,"left","50%"),x(e,"top","30%")},m(l,n){A(l,e,n),r||(o=Ae(t=Ve.call(null,e,{particleCount:a[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),r=!0)},p(l,n){t&&Pe(t.update)&&n&128&&t.update.call(null,{particleCount:l[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(l){l&&b(e),r=!1,o()}}}function ut(a){let e,t,r,o="Sverdle",l,n,s,c="How to play",p,m,g=[],_=new Map,u,f,i,d,S,E,w=I(Array.from(Array(6).keys()));const X=h=>h[9];for(let h=0;h<w.length;h+=1){let k=pe(a,w,h),W=X(k);_.set(W,g[h]=ye(W,k))}function B(h,k){return h[4]||h[0].answers.length>=6?ct:it}let F=B(a),P=F(a),M=a[4]&&Ee(a);return{c(){e=C("meta"),t=z(),r=C("h1"),r.textContent=o,l=z(),n=C("form"),s=C("a"),s.textContent=c,p=z(),m=C("div");for(let h=0;h<g.length;h+=1)g[h].c();u=z(),f=C("div"),P.c(),i=z(),M&&M.c(),d=oe(),this.h()},l(h){const k=Oe("svelte-1sgzpsg",K.head);e=T(k,"META",{name:!0,content:!0}),k.forEach(b),t=L(h),r=T(h,"H1",{class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-16hvqlg"&&(r.textContent=o),l=L(h),n=T(h,"FORM",{method:!0,action:!0,class:!0});var W=G(n);s=T(W,"A",{class:!0,href:!0,"data-svelte-h":!0}),Q(s)!=="svelte-1w3fhu3"&&(s.textContent=c),p=L(W),m=T(W,"DIV",{class:!0});var ae=G(m);for(let R=0;R<g.length;R+=1)g[R].l(ae);ae.forEach(b),u=L(W),f=T(W,"DIV",{class:!0});var re=G(f);P.l(re),re.forEach(b),W.forEach(b),i=L(h),M&&M.l(h),d=oe(),this.h()},h(){var h;K.title="Sverdle",y(e,"name","description"),y(e,"content","A Wordle clone written in SvelteKit"),y(r,"class","visually-hidden"),y(s,"class","how-to-play svelte-h4u1ii"),y(s,"href","/sverdle/how-to-play"),y(m,"class","grid svelte-h4u1ii"),H(m,"playing",!a[4]),H(m,"bad-guess",(h=a[1])==null?void 0:h.badGuess),y(f,"class","controls svelte-h4u1ii"),y(n,"method","POST"),y(n,"action","?/enter"),y(n,"class","svelte-h4u1ii")},m(h,k){v(K.head,e),A(h,t,k),A(h,r,k),A(h,l,k),A(h,n,k),v(n,s),v(n,p),v(n,m);for(let W=0;W<g.length;W+=1)g[W]&&g[W].m(m,null);v(n,u),v(n,f),P.m(f,null),A(h,i,k),M&&M.m(h,k),A(h,d,k),S||(E=[ee(rt,"keydown",ft),Ae(et.call(null,n,dt))],S=!0)},p(h,[k]){var W;k&9&&(w=I(Array.from(Array(6).keys())),g=Te(g,k,X,1,h,w,_,m,We,ye,null,pe)),k&16&&H(m,"playing",!h[4]),k&2&&H(m,"bad-guess",(W=h[1])==null?void 0:W.badGuess),F===(F=B(h))&&P?P.p(h,k):(P.d(1),P=F(h),P&&(P.c(),P.m(f,null))),h[4]?M?M.p(h,k):(M=Ee(h),M.c(),M.m(d.parentNode,d)):M&&(M.d(1),M=null)},i:se,o:se,d(h){h&&(b(t),b(r),b(l),b(n),b(i),b(d)),b(e);for(let k=0;k<g.length;k+=1)g[k].d();P.d(),M&&M.d(h),S=!1,Ne(E)}}}function ft(a){var e;a.metaKey||(e=document.querySelector(`[data-key="${a.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const dt=()=>({update:a})=>{a({reset:!1})};function ht(a,e,t){let r,o,l,n;De(a,at,_=>t(7,n=_));let{data:s}=e,{form:c}=e;console.error(Xe);let p,m;function g(_){const u=s.guesses[o],f=_.target.getAttribute("data-key");f==="backspace"?(t(0,s.guesses[o]=u.slice(0,-1),s),c!=null&&c.badGuess&&t(1,c.badGuess=!1,c)):u.length<5&&t(0,s.guesses[o]+=f,s)}return a.$$set=_=>{"data"in _&&t(0,s=_.data),"form"in _&&t(1,c=_.form)},a.$$.update=()=>{var _;a.$$.dirty&1&&t(4,r=s.answers.at(-1)==="xxxxx"),a.$$.dirty&17&&t(3,o=r?-1:s.answers.length),a.$$.dirty&9&&t(6,l=((_=s.guesses[o])==null?void 0:_.length)===5),a.$$.dirty&5&&(t(2,p={}),t(5,m={}),s.answers.forEach((u,f)=>{const i=s.guesses[f];for(let d=0;d<5;d+=1){const S=i[d];u[d]==="x"?(t(2,p[S]="exact",p),t(5,m[S]="correct",m)):p[S]||(t(2,p[S]=u[d]==="c"?"close":"missing",p),t(5,m[S]=u[d]==="c"?"present":"absent",m))}}))},[s,c,p,o,r,m,l,n,g]}class vt extends ze{constructor(e){super(),Le(this,e,ht,ut,Ge,{data:0,form:1})}}export{vt as component};
