import{_ as Oe}from"./preload-helper.a4192956.js";import{s as Me,n as Te,o as We,h as ke}from"./scheduler.49f88041.js";import{S as qe,i as Ue,g as a,s as E,m as r,B as Ge,h as s,f as t,c as P,j as c,y as Be,n,k as d,A as e,a as He,o as S}from"./index.491dc603.js";function Je(V){let j,f,_,o,l,v,Q="Local Video",u,I,ce,N,p,b,ne,M=V[0].codec+"",X,de,y,ie,W=V[0].resolution+"",Y,ve,g,ue,k=V[0].frameRate+"",Z,fe,me,L,_e,q=V[0].sendNum+"",$,pe,C,x,ye="Remote Video",he,z,Ee,w,h,F,Pe,U=V[1].codec+"",ee,Ve,O,je,G=V[1].resolution+"",te,Ce,A,Ie,J=V[1].frameRate+"",ae,xe,ze,T,De,K=V[1].receiveNum+"",se;return{c(){j=a("meta"),f=E(),_=a("div"),o=a("div"),l=a("div"),v=a("label"),v.textContent=Q,u=E(),I=a("video"),ce=E(),N=a("div"),p=a("div"),b=a("p"),ne=r("Codec: "),X=r(M),de=E(),y=a("p"),ie=r("分辨率: "),Y=r(W),ve=E(),g=a("p"),ue=r("帧率: "),Z=r(k),fe=r(" FPS"),me=E(),L=a("p"),_e=r("发送: "),$=r(q),pe=E(),C=a("div"),x=a("label"),x.textContent=ye,he=E(),z=a("video"),Ee=E(),w=a("div"),h=a("div"),F=a("p"),Pe=r("Codec: "),ee=r(U),Ve=E(),O=a("p"),je=r("分辨率: "),te=r(G),Ce=E(),A=a("p"),Ie=r("帧率: "),ae=r(J),xe=r(" FPS"),ze=E(),T=a("p"),De=r("接收: "),se=r(K),this.h()},l(i){const m=Ge("svelte-1j5x2je",document.head);j=s(m,"META",{name:!0,content:!0}),m.forEach(t),f=P(i),_=s(i,"DIV",{class:!0});var Le=c(_);o=s(Le,"DIV",{class:!0});var le=c(o);l=s(le,"DIV",{class:!0});var B=c(l);v=s(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Be(v)!=="svelte-1d6nnr0"&&(v.textContent=Q),u=P(B),I=s(B,"VIDEO",{id:!0,class:!0}),c(I).forEach(t),ce=P(B),N=s(B,"DIV",{class:!0});var we=c(N);p=s(we,"DIV",{class:!0});var D=c(p);b=s(D,"P",{});var Re=c(b);ne=n(Re,"Codec: "),X=n(Re,M),Re.forEach(t),de=P(D),y=s(D,"P",{});var Se=c(y);ie=n(Se,"分辨率: "),Y=n(Se,W),Se.forEach(t),ve=P(D),g=s(D,"P",{});var oe=c(g);ue=n(oe,"帧率: "),Z=n(oe,k),fe=n(oe," FPS"),oe.forEach(t),me=P(D),L=s(D,"P",{});var ge=c(L);_e=n(ge,"发送: "),$=n(ge,q),ge.forEach(t),D.forEach(t),we.forEach(t),B.forEach(t),pe=P(le),C=s(le,"DIV",{class:!0});var H=c(C);x=s(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Be(x)!=="svelte-30fbz4"&&(x.textContent=ye),he=P(H),z=s(H,"VIDEO",{id:!0,class:!0}),c(z).forEach(t),Ee=P(H),w=s(H,"DIV",{class:!0});var Fe=c(w);h=s(Fe,"DIV",{class:!0});var R=c(h);F=s(R,"P",{});var Ae=c(F);Pe=n(Ae,"Codec: "),ee=n(Ae,U),Ae.forEach(t),Ve=P(R),O=s(R,"P",{});var Ne=c(O);je=n(Ne,"分辨率: "),te=n(Ne,G),Ne.forEach(t),Ce=P(R),A=s(R,"P",{});var re=c(A);Ie=n(re,"帧率: "),ae=n(re,J),xe=n(re," FPS"),re.forEach(t),ze=P(R),T=s(R,"P",{});var be=c(T);De=n(be,"接收: "),se=n(be,K),be.forEach(t),R.forEach(t),Fe.forEach(t),H.forEach(t),le.forEach(t),Le.forEach(t),this.h()},h(){document.title="AgoraRTC Video Detection",d(j,"name","description"),d(j,"content","About this app"),d(v,"for","video1"),d(v,"class","svelte-1r5jz1x"),d(I,"id","localVideo"),I.autoplay=!0,I.muted=!0,I.playsInline=!0,d(I,"class","svelte-1r5jz1x"),d(p,"class","stats-text svelte-1r5jz1x"),d(N,"class","stats-layer svelte-1r5jz1x"),d(l,"class","left svelte-1r5jz1x"),d(x,"for","video2"),d(x,"class","svelte-1r5jz1x"),d(z,"id","remoteVideo"),z.autoplay=!0,z.muted=!0,d(z,"class","svelte-1r5jz1x"),d(h,"class","stats-text svelte-1r5jz1x"),d(w,"class","stats-layer svelte-1r5jz1x"),d(C,"class","right svelte-1r5jz1x"),d(o,"class","peer svelte-1r5jz1x"),d(_,"class","container svelte-1r5jz1x")},m(i,m){e(document.head,j),He(i,f,m),He(i,_,m),e(_,o),e(o,l),e(l,v),e(l,u),e(l,I),e(l,ce),e(l,N),e(N,p),e(p,b),e(b,ne),e(b,X),e(p,de),e(p,y),e(y,ie),e(y,Y),e(p,ve),e(p,g),e(g,ue),e(g,Z),e(g,fe),e(p,me),e(p,L),e(L,_e),e(L,$),e(o,pe),e(o,C),e(C,x),e(C,he),e(C,z),e(C,Ee),e(C,w),e(w,h),e(h,F),e(F,Pe),e(F,ee),e(h,Ve),e(h,O),e(O,je),e(O,te),e(h,Ce),e(h,A),e(A,Ie),e(A,ae),e(A,xe),e(h,ze),e(h,T),e(T,De),e(T,se)},p(i,[m]){m&1&&M!==(M=i[0].codec+"")&&S(X,M),m&1&&W!==(W=i[0].resolution+"")&&S(Y,W),m&1&&k!==(k=i[0].frameRate+"")&&S(Z,k),m&1&&q!==(q=i[0].sendNum+"")&&S($,q),m&2&&U!==(U=i[1].codec+"")&&S(ee,U),m&2&&G!==(G=i[1].resolution+"")&&S(te,G),m&2&&J!==(J=i[1].frameRate+"")&&S(ae,J),m&2&&K!==(K=i[1].receiveNum+"")&&S(se,K)},i:Te,o:Te,d(i){i&&(t(f),t(_)),t(j)}}}function Ke(V,j,f){let{codec:_}=j,o={codec:"",resolution:"",frameRate:"",sendNum:""},l={codec:"",resolution:"",frameRate:"",receiveNum:""};return We(async()=>{if(typeof window<"u"){const{startP2P:v,getStats:Q}=await Oe(()=>import("./peer.8499ff2c.js"),["./peer.8499ff2c.js","./_commonjsHelpers.725317a4.js"],import.meta.url);await v(_,"localVideo","remoteVideo"),setInterval(async()=>{const u=await Q();u&&(f(0,o.codec=u.local.codec,o),f(0,o.resolution=`${u.local.frameWidth}x${u.local.frameHeight}`,o),f(0,o.frameRate=u.local.framesPerSecond,o),f(0,o.sendNum=u.local.framesSent,o),f(1,l.codec=u.remote.codec,l),f(1,l.resolution=`${u.remote.frameWidth}x${u.remote.frameHeight}`,l),f(1,l.frameRate=u.remote.framesPerSecond,l),f(1,l.receiveNum=u.remote.framesReceived,l))},250)}}),ke(async()=>{const{changeCodec:v}=await Oe(()=>import("./peer.8499ff2c.js"),["./peer.8499ff2c.js","./_commonjsHelpers.725317a4.js"],import.meta.url);v(_)}),V.$$set=v=>{"codec"in v&&f(2,_=v.codec)},[o,l,_]}class Ze extends qe{constructor(j){super(),Ue(this,j,Ke,Je,Me,{codec:2})}}export{Ze as P};
